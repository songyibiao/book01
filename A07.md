# 安装 MDK-ARM 软件

### 安装 MDK-ARM 软件

没学过 STM32 等 ARM 单片机的同学可能对 MDK-ARM 感到陌生，但提起 Keil，学过 51 单片机的同学就再熟悉不过了。Keil 公司被 Arm 公司收购后，推出了 MDK-ARM。MDK-ARM 是一个针对 Arm 芯片（不能编译51、avr等），集代码编辑，编译，链接和下载于一体的集成开发环境（IDE）。在我们学习编写代码之前需要先要把 MDK-ARM 软件安装好，本节示例用的版本是 V5.17。在安装完成之后，可以在工具栏 help->about uVision 选项卡中查看到版本信息。

在目录 `光盘\07.开发环境及烧录工具\MDK517.exe` 找到 MDK517.exe，双击 MDK517.exe，在弹出 MDK 安装界面后，按照如下步骤操作即可。

点击 Next。

![](/img/003安装MDK1.png)

把勾勾上，同意使用协议，点击 Next。

![](/img/003安装MDK2.png)

接下来就是设置安装路径，注意路径名一定不能含有中文。在安装时可以不更改路径，直接安装在 C 盘。我个人习惯将这些非系统必需软件都是安装在 D 盘 Program Files (x86)文件目录下，在本节示例中，选择路径时我就直接把 C 盘改为 D 盘就可以了，后面的路径都使用默认路径。路径选择好继续 Next。

![](/img/003安装MDK3.png)

在用户名中填入名字（可随便写，你喜欢就好），在邮件地址那里填入邮件地址（可随便写，你喜欢就好），点击 Next。

![](/img/003安装MDK4.png)

开始自动安装，请耐心等待。

![](/img/003安装MDK5.png)

点击 Finish，安装完成。

### （二）安装 Pack 包

打开 MDK-ARM 后会自动弹出 Pack Installer 界面。程序会自动去 Keil 的官网下载各种支持包，但是由于 Keil 的服务器可能在国外，在下载支持包过程时快时慢，甚至会以失败告终，遇到这种失败情况，我们可以直接点击OK，然后关闭支持包安装器，自己到Keil官网下载自己需要的支持包，下载地址为http://www.keil.com/dd2/pack 。

![](/img/003安装MDK6.png)

打开上面的下载地址，然后选择我们使用的芯片型号，本示例要下载 STM32F1 系列的Pack。在页面中 “Ctrl+F”打开搜索栏输入关键词 “STM32F1” ,可以快速定位到我们想要下载的内容。

![](/img/003安装MDK7.png)

点击下载图标，会弹出一个许可，我们点击 “Accept”，就会开始下载。

![](/img/003安装MDK8.png)

下载完，就得到我们想要的 “Keil.STM32F1xx_DFP.2.2.0.pack”。

![](/img/003安装MDK9.png)

双击 pack 文件，打开 pack 的 安装界面，会自动识别 MDK 的安装路径。

![](/img/003安装MDK10.png)

点击 “Next” 后，进入自动安装环节，耐心等待片刻。

![](/img/003安装MDK11.png)

点击“Finish”，安装结束。

![](/img/003安装MDK12.png)

这样就完成了 STM32F1 系列 Pack 的安装。如果需要下载其他 Pack，方法是一样的，只是选择不同的 Pack 安装包。

到此，MDK517已安装完成，可以看到桌面上有Keil uVision5的快捷方式图标。

![](/img/003安装MDK16.png)

### 和谐 MDK

以管理员身份运行 Keil uVision5 图标。注意，直接双击无法和谐，请右键选择“以管理员身份运行”。

打开 Keil uVision5 后，点击： File目录下的 License Management，调出注册管理界面，可以发现我们这个版本是 “Evaluation Version”，即试用版，只可以免费使用180天，而且不能编译超过2K的代码。

![](/img/003安装MDK17.png)

进行破解。破解过程很简单，先对电脑进行禁音操作，因为破解软件 keygen 会发出奇妙的声音。把 keygen.exe 剪贴到 MDK5 目录下（要先解压，如果杀毒软件误报误杀，那就先关了杀毒软件，再解压），在 keygen.exe 里面，设置 Target为 ARM，然后拷贝 MDK License Management 界面里面的 CID 号，到 keygen.exe 里面 CID 栏，点击： Generate，即可获得注册码。

![](/img/003安装MDK18.png)

获取注册码之后，拷贝注册码到 Keil uVision5 的 License Management 里面，点击 Add LIC 即可完成注册 。从图中可以看到，我们破解后 MDK5，不再是试用的专业版，而且 可以用到 2020 年了。虽然现在已经是2019年，但是先用着，到了2020年再想办法，船到桥头自然直。

![](/img/003安装MDK19.png)

至此，MDK 已成功进行和谐，免费使用到2020年，而且没有编译代码限制。