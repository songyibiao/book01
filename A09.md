# 组装测试

> *本小节教你如何组装小车，并对小车的功能进行测试。*

### [开箱组装视频教程](https://www.bilibili.com/video/av80149451/) *（点击文字可转跳到视频网站）*

<iframe width="790" height="450" src="//player.bilibili.com/player.html?aid=80149451&cid=137158266&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

### [功能测试视频教程](https://www.bilibili.com/video/av85664352/) *（点击文字可转跳到视频网站）*

<iframe width="790" height="450" src="//player.bilibili.com/player.html?aid=85664352&cid=146419303&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

---

### 文字版教程

> *注意：动态图只能在 PC 端正常显示，如需观看动态图，请使用浏览器查看本章节。*

萌新们在拿到套件时，请先按捺住内心的小激动，因为我们是散件发货，要先组装小车。让我们动作温柔地打开包装盒，然后对照下方的发货清单表格，检查一遍有没有缺漏配件。你会看到部分电子模块已经安装到底板上了，因为在生产时，工厂已经把一部分容易难安装的电子模块预装到底板上了。在实际组装当中，我们可以省略安装这些模块的过程。

> *温馨提示：为了充分利用时间，在开始组装前，我们先用充电器对电池进行充电。充电中指示灯为红色，充满时指示灯为绿色。电池和充电器的「+ -」极性要对应。充满电大约需要 5 个小时。电池额定电压为 7.4v，充满电压为 8.4v。电池电压小于额定电压 7.2v 时，已是低电量状态，处于低电量状态的小车是很容易翻车的，请记得及时充电。*

发货清单如下：（打“√”代表“有”）

| 序号 | 名称 | 数量 | 标准版 | 增强版 |
| :----: | :----: | :----: | :----: | :----: |
| 1 | STM32 核心板 | 1 | √ | √ |
| 2 | MPU-6050 模块 | 1 | √ | √ |
| 3 | TB6612FNG 模块 | 1 | √ | √ |
| 4 | 5V/3.3V 稳压模块 | 1 | √ | √ |
| 5 | 蓝牙模块 | 1 | √ | √ |
| 6 | 专用底板 | 1 | √ | √ |
| 7 | 亚克力板 | 1 | √ | √ |
| 8 | 直流减速电机 | 2 | √ | √ |
| 9 | 优质内胆轮胎 | 2 | √ | √ |
| 10 | 动力锂电池 | 2 | √ | √ |
| 11 | 电机固定部件包（含螺丝） | 1 | √ | √ |
| 12 | 塑料支撑柱包（含螺丝螺母） | 1 | √ | √ |
| 13 | 电机连接线 | 2 | √ | √ |
| 13 | Micro-USB 数据线 | 1 | √ | √ |
| 14 | 螺丝刀 | 1 | √ | √ |
| 15 | 超声波模块 | 1 | 无 | √ |
| 16 | 0.96OLED 显示模块 | 1 | 无 | √ |
| 17 | 红外巡线模块（含支撑柱等） | 1 | 无 | √ |

##### 组装过程

> * *部分电子模块出厂时已预装在底板，萌新请自行跳过相关的组装步骤。*
> * *电机的编码器为易损部件，在拿电机时要小心谨慎，不要随意掰扯编码器的传感器。*

1、安装电机固定部件。固定部件的四个孔位都是攻丝孔，跟螺母类似，所以拧紧固定部件只用螺丝就行了。将固定部件放在相关位置（电路板上有文字提示），从电路板另一面（有电池盒的那一面）往上拧紧螺丝，就能固定住部件。

![安装电机固定部件](/img/焊接组装02.GIF)

2、安装电机。注意电机输出轴是朝外安装，不然等下安装轮胎会发现电机装反了哦。

![安装电机](/img/焊接组装03.GIF)

3、安装 TB6612FNG 驱动模块。模块和底板上的引脚丝印要对应安装，装反会损坏模块哦。

![安装 TB6612FNG 驱动模块](/img/焊接组装04.GIF)

4、安装 MPU-6050 陀螺仪/加速度传感器模块。插好模块，并用螺丝固定有隔离柱的一端。

![安装 MPU-6050 模块](/img/焊接组装05.GIF)

5、安装 9Vto5V/3.3V 电源降压模块。模块和底板上的引脚丝印要对应安装，装反会损坏模块哦。

![安装 9Vto5v/3.3v 电源降压模块](/img/焊接组装06.GIF)

6、安装 STM32 控制板。模块和底板的引脚丝印要对应安装。

![安装 STM32 控制板](/img/焊接组装07.GIF)

7、安装电机连接线

![安装电机连接线](/img/焊接组装08.GIF)

8、安装蓝牙模块。模块和底板的引脚丝印要对应安装。

![安装蓝牙模块](/img/焊接组装09.GIF)

9、安装四根塑料支撑柱

![安装四根塑料支撑柱](/img/焊接组装10.GIF)

10、撕掉亚克力保护膜

![撕掉亚克力保护膜](/img/焊接组装11.GIF)

10、安装透明亚克力

![安装透明亚克力](/img/焊接组装12.GIF)

11、安装轮胎 。轮胎孔位为D型孔，对准才能安装进去，不能蛮力安装哦。

![安装轮胎](/img/焊接组装13.GIF)

12、安装电池。记得起码要先充电三个小时。电池容易安装错，一定先看清楚正负极性，电池的正负要和电路板上的「正+ 负-」标注文字对应起来。（是让电池对应底板、底板、底板上标注的正负，不是电池盒的）。

![安装电池](/img/焊接组装14.GIF)

13、安装完毕。先不要急着上电，测试过程请接着继续往下看。

![安装完毕](/img/焊接组装15.GIF)

标准版（官方标配）套件到这里已安装完毕。如果是增强版套件，还需要继续安装红外巡线模块、超声波模块、OLED 模块。

13、安装超声波模块。底板背面上印刷有丝印“超声波模块接口”，找到超声波模块接口，把超声波模块插好。

14、安装 OLED 模块。OLED 模块的孔位在靠近稳压模块，底板背面上印刷有丝印“0.96 OLED 模块接口”，找到 OLED 模块接口，把 OLED 模块插好。

15、安装红外巡线模块。红外模块的安装孔位在超声波模块的两端，先用螺母将隔离柱拧紧在模块上，然后再用螺丝将模块和隔离柱固定在底板上。红外模块容易装错，请对照示意图安装。

![组装完成的增强版小车](/img/焊接组装16.jpg)

安装到这里，红外巡线模块、超声波模块、OLED 模块也都已经安装好了。萌新们对照示意图，看一下自己有没有把红外模块装反着安装了。有的话，纠正过来。

#### 功能测试

1、在开机之前，我们最好确认一遍电池没有装反，再上电开机。

2、平衡测试。把小车轻放在地面，扶正小车，开机，此时小车会保持平衡。

3、提起识别。把小车拿起来，小车会识别这个动作，并且关停电机转动。

4、着陆识别。把小车放回地面，扶正车体保持 3 秒，小车会识别动作，然后恢复平衡。

> 注意：扶正 90° 角度不一定能识别着陆，可以尝试在 90° 附近的角度保持 3 秒。因为安装偏差，每台小车的重心不一定完全在车体的竖直方向。萌新们自行感受下这个动作哈。

5、在匹配蓝牙时，将「小霸王Lite」两轮自平衡小车轻放至地面，扶正小车，开机，使其处于正常平衡状态。关机状态时，手机将无法匹配和连接小车蓝牙。拿出安卓手机，搜索设备（MiaowLabs-XXXX 或 BT-04）、匹配蓝牙。蓝牙匹配密钥为：1234。资料包的 APP 文件夹里有两款 APP 安装包，一款为「喵呜手机端」，另一款为「喵呜手机端（简易版）」（曾用名「平衡小车通用控制」）。用户按需安装使用。

> 有些手机在第一次搜索时搜索不到蓝牙，请在手机设置中对关闭蓝牙再开启，重新搜索。一次搜索不到那就搜索三次。试了多次还不行就请换一台手机吧。蓝牙配对成功之后直接打开 APP 连接即可。别拿苹果手机 iphone 来搜索蓝牙，我们的 APP 暂时只支持安卓手机。

#### 切换工作模式

切换不同的工作模式，需要使用 APP 进行切换，或修改代码进行切换。光盘中两款 APP 都有工作模式切换功能。修改代码更换可以切换开机工作模式，默认的开机工作模式为蓝牙遥控模式，在未接收到遥控指令时，会在原地保持平衡等待指令。

APP 中有四种工作模式可供选择：

1. 遥控模式（默认模式）
2. 超声波避障模式
3. 超声波跟随模式
4. 红外循迹模式



